@inject Microsoft.AspNetCore.Http.IHttpContextAccessor HttpContextAccessor
@model VehicleManager.Models.VehicleCategory

@{
    ViewData["Title"] = "Details";
}

<section class="ftco-section bg-light">
    <div class="container">
        <div class="row">
            <div class="col-md-12 ftco-animate">
                <div class="align-items-center">
                    <div>
                        <dl class="row">
                            <dt class="col-sm-2">
                                @Html.DisplayNameFor(model => model.Name)
                            </dt>
                            <dd class="col-sm-10">
                                @Html.DisplayFor(model => model.Name)
                            </dd>
                            <dt class="col-sm-2">
                                @Html.DisplayNameFor(model => model.Description)
                            </dt>
                            <dd class="col-sm-10">
                                @Html.DisplayFor(model => model.Description)
                            </dd>
                            <dt class="col-sm-2">
                                @Html.DisplayNameFor(model => model.PricePerDay)
                            </dt>
                            <dd class="col-sm-10">
                                @Html.DisplayFor(model => model.PricePerDay) kr/day
                            </dd>
                        </dl>
                    </div>
                </div>
                @if (HttpContextAccessor?.HttpContext?.Request.Cookies["Role"] == "Admin")
                {
                    <div>
                        <a asp-action="Edit" asp-route-id="@Model?.VehicleCategoryId">Edit</a> |
                        <a asp-action="Index">Back to List</a>
                    </div>
                }

                <h4>Example car from category</h4>
                @if (Model.Cars.Count != 0)
                {
                    <div class="col-md-4">
                        <div class="car-wrap rounded ftco-animate">
                            <div class="img rounded d-flex align-item-end" style="background-image: url(@Model.Cars[0].ImgUrl);"></div>
                            <div class="text">
                                <h2 class="mb-0"><a href="#">@Model.Cars[0].Brand</a> <a>@Model.Cars[0].Model</a></h2>
                                <div class="d-flex mb-3">
                                    <span class="cat">@Model.Cars[0].Description</span>
                                    <p class="price ml-auto">$@Model.PricePerDay <span>/day</span></p>
                                </div>
@*                                <p class="d-flex mb-0 d-block">
                                    <a href="/Book/@car.CarId/@Model.PickupDate/@Model.ReturnDate" class="btn btn-primary py-2 mr-1">Book now</a>
                                    <a asp-controller="Cars" asp-action="Details" asp-route-id="@car.CarId" class="btn btn-secondary py-2 ml-1">Details</a>
                                </p>*@
                            </div>
                        </div>
                    </div> 
                }

            </div>
        </div>
    </div>
</section>